import{M as f}from"./MenuBar-3a40368a.js";import{_ as h,a as u,r as _,o as d,c as l,g as C,b as i,w as s,v as p,h as c,d as v,F as g,i as b,e as y,t as D,p as V,f as w,j as S}from"./index-afcce212.js";const x={data(){return{info:{},info2:{},file:null,validFile:!1,nome_doc:"",nome_arq:"",resumo:"",data:"",docente:"",tipo:"",palavraChave:""}},components:{MenuBar:f},methods:{readFile(){this.file=this.$refs.file.files[0],this.file.name.includes(".pdf")?(this.nome_arq=this.file.name,this.validFile=!0):this.validFile=!1},postNovoDoc(){if(!this.validFile)return;const o=new FormData;o.append("arquivo",new Blob([this.file],{type:"application/pdf"}),this.nome_arq),o.append("titulo",this.nome_doc),o.append("resumo",this.resumo),o.append("data",this.data),o.append("tipo",this.tipo),o.append("orientador",this.docente),o.append("palavraChave",this.palavraChave),u.post("https://localhost:3000/minha-conta/novo-documento",o,{withCredentials:!0}).then(e=>{this.info2=e.data,console.log(this.info2),console.log(o.get("arquivo"))}).catch(e=>{console.log(e.response.data)})}},beforeCreate(){u.get("https://localhost:3000/minha-conta/novo-documento",{withCredentials:!0}).then(o=>{console.log(o.data),this.info=o.data}).catch(o=>{console.log(o.response.data),this.$router.push("/")})},mounted(){const o=document.getElementById("data");o.max=new Date().toISOString().split("T")[0]}},n=o=>(V("data-v-23c738d5"),o=o(),w(),o),F=n(()=>i("label",{for:"nome_doc"},"Título do Trabalho:",-1)),M=n(()=>i("label",{for:"arquivo"},"Arquivo:",-1)),N=n(()=>i("label",{for:"resumo"},"Resumo:",-1)),T=n(()=>i("label",{for:"data"},"Data:",-1)),q=n(()=>i("label",{for:"doc_tipo"},"Tipo de Documento:",-1)),B=S('<option value="Artigo de Evento" data-v-23c738d5>Artigo de Evento</option><option value="Artigo de Periódico" data-v-23c738d5>Artigo de Periódico</option><option value="Capítulo de Livro" data-v-23c738d5>Capítulo de Livro</option><option value="Dissertação" data-v-23c738d5>Dissertação</option><option value="Livro" data-v-23c738d5>Livro</option><option value="Monografia" data-v-23c738d5>Monografia</option><option value="Tese" data-v-23c738d5>Tese</option><option value="Trabalho de Conclusão de Curso" data-v-23c738d5>Trabalho de Conclusão de Curso</option>',8),I=[B],U=n(()=>i("label",{for:"palavraChave"},"Palavras-Chave:",-1)),k={key:0,for:"docente"},A=["value"],L=n(()=>i("input",{type:"submit",value:"Criar documento"},null,-1));function E(o,e,P,O,a,r){const m=_("MenuBar");return d(),l("section",null,[C(m),i("form",{action:"",method:"post",id:"form",onSubmit:e[7]||(e[7]=y((...t)=>r.postNovoDoc&&r.postNovoDoc(...t),["prevent"])),enctype:"multipart/form-data"},[F,s(i("input",{type:"text",id:"nome_doc","onUpdate:modelValue":e[0]||(e[0]=t=>a.nome_doc=t)},null,512),[[p,a.nome_doc]]),M,i("input",{type:"file",id:"arquivo",accept:".pdf",ref:"file",onChange:e[1]||(e[1]=(...t)=>r.readFile&&r.readFile(...t))},null,544),N,s(i("textarea",{id:"resumo","onUpdate:modelValue":e[2]||(e[2]=t=>a.resumo=t)},null,512),[[p,a.resumo]]),T,s(i("input",{type:"date",id:"data",min:"01-01-2002","onUpdate:modelValue":e[3]||(e[3]=t=>a.data=t)},null,512),[[p,a.data]]),q,s(i("select",{name:"doc_tipo",id:"doc_tipo","onUpdate:modelValue":e[4]||(e[4]=t=>a.tipo=t)},I,512),[[c,a.tipo]]),U,s(i("input",{type:"text",id:"palavraChave","onUpdate:modelValue":e[5]||(e[5]=t=>a.palavraChave=t)},null,512),[[p,a.palavraChave]]),a.info.isStudent?(d(),l("label",k,"Orientador:")):v("",!0),a.info.isStudent?s((d(),l("select",{key:1,name:"docente",id:"docente","onUpdate:modelValue":e[6]||(e[6]=t=>a.docente=t)},[(d(!0),l(g,null,b(a.info.teachers,t=>(d(),l("option",{key:t,value:t.nome},D(t.nome),9,A))),128))],512)),[[c,a.docente]]):v("",!0),L],32)])}const z=h(x,[["render",E],["__scopeId","data-v-23c738d5"]]);export{z as default};
