import{_ as m,a as h,r as _,o as u,c as r,g as f,e as p,w as i,v as l,b as a,h as S,t as v,d as b,p as y,f as g}from"./index-96ea1b3c.js";import{M as C}from"./MenuBar-6948650a.js";const M={data(){return{data:{},data2:{},data3:{},nome:"",matricula:"",curso:"",idFuncional:"",graduacao:"",senha:"",novaSenha:"",confirmeSenha:"",senhaErrada:""}},components:{MenuBar:C},methods:{postMinhaConta(){this.data.isStudent?h.post("https://localhost:3000/minha-conta",{matricula:this.matricula,nome:this.nome,curso:this.curso,fk_id_usuario:this.data.userId},{withCredentials:!0}).then(n=>{console.log(n.data),this.data2=n.data}).catch(n=>{console.log(n.response.data),this.$router.push("/")}):h.post("https://localhost:3000/minha-conta",{id_funcional:this.idFuncional,nome:this.nome,graduacao:this.graduacao,fk_id_usuario:this.data.userId},{withCredentials:!0}).then(n=>{console.log(n.data),this.data2=n.data}).catch(n=>{console.log(n.response.data),this.$router.push("/")})},putMeuUsuario(){this.novaSenha==this.confirmeSenha&&h.put("https://localhost:3000/login",{senha:this.senha,novaSenha:this.novaSenha,confirmeSenha:this.confirmeSenha},{withCredentials:!0}).then(n=>{this.data3=n.data,console.log(this.data3)}).catch(n=>{console.log(n.response.data),this.senhaErrada="Senha ou nova Senha incorretos!"})}},beforeCreate(){h.get("https://localhost:3000/minha-conta",{withCredentials:!0}).then(n=>{if(console.log(n.data),this.data=n.data,this.data.checkedUser){const e=this.data.checkedUser;this.nome=e.nome,this.data.isStudent?(this.matricula=e.matricula,this.curso=e.curso):(this.idFuncional=e.id_funcional,this.graduacao=e.graduacao)}}).catch(n=>{console.log(n.response.data),this.$router.push("/")})}},s=n=>(y("data-v-4014d028"),n=n(),g(),n),U=s(()=>a("label",{for:"matricula"},"Matrícula:",-1)),k=s(()=>a("label",{for:"nome"},"Nome:",-1)),V=s(()=>a("label",{for:"curso"},"Curso:",-1)),w=s(()=>a("option",{value:"GA"},"Gestão Ambiental",-1)),x=s(()=>a("option",{value:"SI"},"Sistemas de Informação",-1)),I=[w,x],F={key:0,type:"submit",value:"Atualizar Discente"},D={key:1,type:"submit",value:"Criar Discente"},B=s(()=>a("label",{for:"idFuncional"},"ID Funcional:",-1)),E=s(()=>a("label",{for:"nome"},"Nome:",-1)),N=s(()=>a("label",{for:"graduacao"},"Graduação: ",-1)),A={key:0,type:"submit",value:"Atualizar Docente"},z={key:1,type:"submit",value:"Criar Docente"},G=s(()=>a("hr",null,null,-1)),T=s(()=>a("label",{for:"email"},"Email:",-1)),j=s(()=>a("label",{for:"senha"},"Senha:",-1)),q=s(()=>a("label",{for:"novaSenha"},"Nova Senha:",-1)),H=s(()=>a("label",{for:"confirmeSenha"},"Confirme a Senha:",-1)),J=s(()=>a("input",{type:"submit",value:"Atualizar usuário"},null,-1)),K={key:2};function L(n,e,O,P,t,d){const c=_("MenuBar");return u(),r("section",null,[f(c),t.data.isStudent?(u(),r("form",{key:0,action:"",method:"post",onSubmit:e[3]||(e[3]=p((...o)=>d.postMinhaConta&&d.postMinhaConta(...o),["prevent"]))},[U,i(a("input",{type:"number",id:"matricula","onUpdate:modelValue":e[0]||(e[0]=o=>t.matricula=o)},null,512),[[l,t.matricula]]),k,i(a("input",{type:"text",id:"nome","onUpdate:modelValue":e[1]||(e[1]=o=>t.nome=o)},null,512),[[l,t.nome]]),V,i(a("select",{name:"curso",id:"curso","onUpdate:modelValue":e[2]||(e[2]=o=>t.curso=o)},I,512),[[S,t.curso]]),t.data.checkedUser?(u(),r("input",F)):(u(),r("input",D))],32)):(u(),r("form",{key:1,action:"",method:"post",onSubmit:e[7]||(e[7]=p((...o)=>d.postMinhaConta&&d.postMinhaConta(...o),["prevent"]))},[B,i(a("input",{type:"number",id:"idFuncional","onUpdate:modelValue":e[4]||(e[4]=o=>t.idFuncional=o)},null,512),[[l,t.idFuncional]]),E,i(a("input",{type:"text",id:"nome","onUpdate:modelValue":e[5]||(e[5]=o=>t.nome=o)},null,512),[[l,t.nome]]),N,i(a("input",{type:"text",id:"graduacao","onUpdate:modelValue":e[6]||(e[6]=o=>t.graduacao=o)},null,512),[[l,t.graduacao]]),t.data.checkedUser?(u(),r("input",A)):(u(),r("input",z))],32)),G,a("form",{action:"",method:"post",onSubmit:e[12]||(e[12]=p((...o)=>d.putMeuUsuario&&d.putMeuUsuario(...o),["prevent"]))},[T,i(a("input",{type:"text",id:"email","onUpdate:modelValue":e[8]||(e[8]=o=>t.data.email=o),disabled:""},null,512),[[l,t.data.email]]),j,i(a("input",{type:"password",id:"senha","onUpdate:modelValue":e[9]||(e[9]=o=>t.senha=o)},null,512),[[l,t.senha]]),q,i(a("input",{type:"password",id:"novaSenha","onUpdate:modelValue":e[10]||(e[10]=o=>t.novaSenha=o)},null,512),[[l,t.novaSenha]]),H,i(a("input",{type:"password",id:"confirmeSenha","onUpdate:modelValue":e[11]||(e[11]=o=>t.confirmeSenha=o)},null,512),[[l,t.confirmeSenha]]),J],32),t.senhaErrada?(u(),r("span",K,v(t.senhaErrada),1)):b("",!0)])}const W=m(M,[["render",L],["__scopeId","data-v-4014d028"]]);export{W as default};
