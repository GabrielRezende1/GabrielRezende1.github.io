import{_ as v,a as h,o as s,c as l,b as e,F as p,i as _,w as u,l as g,j as m,t as d,e as f,p as w,f as P}from"./index-afcce212.js";const x={data(){return{docs:[],pagination:{},showNextPage:!0,showPrevPage:!0}},methods:{changeNxPage(){this.pagination.next_page_url?this.showNextPage=!0:this.showNextPage=!1,this.pagination.prev_page_url?this.showPrevPage=!0:this.showPrevPage=!1},changePvPage(){this.pagination.prev_page_url?this.showPrevPage=!0:this.showPrevPage=!1,this.pagination.next_page_url?this.showNextPage=!0:this.showNextPage=!1},nextPage(a){this.pagination.next_page_url&&h.get("https://localhost:3000/documento/tipo/"+this.$route.params.tipo+"?page="+a,{withCredentials:!0}).then(t=>{console.log(t.data),this.docs=t.data.docRows,this.pagination=t.data.pagination,this.changeNxPage(),this.$router.push("/documento/tipo/"+this.$route.params.tipo+"?page="+a)}).catch(t=>{console.log(t.response.data)})},prevPage(a){this.pagination.prev_page_url&&h.get("https://localhost:3000/documento/tipo/"+this.$route.params.tipo+"?page="+a,{withCredentials:!0}).then(t=>{console.log(t.data),this.docs=t.data.docRows,this.pagination=t.data.pagination,this.changePvPage(),this.$router.push("/documento/tipo/"+this.$route.params.tipo+"?page="+a)}).catch(t=>{console.log(t.response.data)})},docDownload(a,t){h.get(`https://localhost:3000/documento/download/${a}/${t}`,{withCredentials:!0,responseType:"blob"}).then(r=>{const i=document.createElement("a");console.log(i),i.href=window.URL.createObjectURL(new Blob([r.data],{type:"application/pdf"})),document.body.appendChild(i),i.setAttribute("download",t),i.click(),i.remove(),URL.revokeObjectURL(i.href)}).catch(r=>{console.log(r.response.data)})}},mounted(){h.get("https://localhost:3000/documento/tipo/"+this.$route.params.tipo,{withCredentials:!0}).then(a=>{this.docs=a.data.docRows,this.pagination=a.data.pagination,console.log(this.docs),console.log(this.pagination)}).catch(a=>{console.log(a.response.data)})}},b=a=>(w("data-v-a936ede9"),a=a(),P(),a),k=b(()=>e("thead",null,[e("tr",null,[e("th",null,"Data:"),e("th",null,"Título:"),e("th",null,"Autor:"),e("th",null,"Tipo:"),e("th",null,"Palavra-Chave:"),e("th")])],-1)),C={key:0},y={key:1},D=["onClick"],N=["href"],$={class:"pages"},L=m('<nav class="categorias" data-v-a936ede9><ul data-v-a936ede9><li data-v-a936ede9><a href="/documento/tipo/artigo+de+evento" data-v-a936ede9>Artigo de Evento</a></li><li data-v-a936ede9><a href="/documento/tipo/artigo+de+periodico" data-v-a936ede9>Artigo de Periódico</a></li><li data-v-a936ede9><a href="/documento/tipo/capitulo+de+livro" data-v-a936ede9>Capítulo de Livro</a></li><li data-v-a936ede9><a href="/documento/tipo/dissertacao" data-v-a936ede9>Dissertação</a></li><li data-v-a936ede9><a href="/documento/tipo/livro" data-v-a936ede9>Livro</a></li><li data-v-a936ede9><a href="/documento/tipo/monografia" data-v-a936ede9>Monografia</a></li><li data-v-a936ede9><a href="/documento/tipo/tese" data-v-a936ede9>Tese</a></li><li data-v-a936ede9><a href="/documento/tipo/trabalho+de+conclusao+de+curso" data-v-a936ede9>Trabalho de Conclusão de Curso</a></li></ul></nav>',1);function R(a,t,r,i,n,c){return s(),l(p,null,[e("section",null,[e("table",null,[k,e("tbody",null,[(s(!0),l(p,null,_(n.docs,o=>(s(),l("tr",{key:o},[e("td",null,d(o.data),1),e("td",null,d(o.nome_doc),1),o.Discente?(s(),l("td",y,d(o.Discente.nome),1)):(s(),l("td",C,d(o.Docente.nome),1)),e("td",null,d(o.Doc_tipo.tipo),1),e("td",null,[e("a",{href:"#",onClick:f(T=>c.docDownload(o.id_documento,o.nome_arq),["prevent"])},"Baixar",8,D),e("a",{target:"_blank",href:"/documento/id/"+o.id_documento},"Visualizar",8,N)])]))),128))])])]),e("nav",$,[e("ul",null,[e("li",null,[u(e("button",{onClick:t[0]||(t[0]=o=>c.prevPage(n.pagination.prev_page_url))},"Página anterior",512),[[g,n.showPrevPage]])]),e("li",null,[u(e("button",{onClick:t[1]||(t[1]=o=>c.nextPage(n.pagination.next_page_url))},"Próxima página",512),[[g,n.showNextPage]])])])]),L],64)}const B=v(x,[["render",R],["__scopeId","data-v-a936ede9"]]);export{B as default};
